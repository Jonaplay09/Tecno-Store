{"ast":null,"code":"import React,{useState,useEffect}from'react';import Navbar from'./Navbar';import Button from'./Button';import InputField from'./InputField';import'./ProductPage.css';import logo from'./tecnov.png';import twitterIcon from'./twitter.png';import facebookIcon from'./facebook.png';import youtubeIcon from'./youtube.png';import swal from'sweetalert';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterProductPage=()=>{const[nombre,setNombre]=useState('');const[fabricante,setFabricante]=useState('');const[descripcion,setDescripcion]=useState('');const[precio,setPrecio]=useState('');const[categoria_id,setCategoriaId]=useState(null);const[categorias,setCategorias]=useState([]);const rol=localStorage.getItem('rol');let menuItems=[{label:'Inicio',path:'/'},{label:'Cuenta',path:'/cuenta'},{label:'Acerca de',path:'/acerca-de'}];if(rol==='admin'){menuItems.splice(1,0,{label:'Productos',path:'/productos'});}useEffect(()=>{fetch('http://localhost:5000/api/categorias').then(response=>response.json()).then(data=>setCategorias(data)).catch(error=>console.error('Error:',error));},[]);const handleRegister=()=>{if(!nombre||!fabricante||!descripcion||!precio||!categoria_id){swal('Error','Por favor, rellena todos los campos y selecciona una categoría.','error');return;}if(isNaN(precio)||!Number(precio)){swal('Error','Por favor, introduce un número válido para el precio.','error');return;}const producto={nombre,fabricante,descripcion,precio,categoria_id};fetch('http://localhost:5000/api/productos',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(producto)}).then(response=>response.json()).then(data=>{if(data.id){console.log('Producto creado con éxito:',data);swal('Éxito','Producto creado con éxito.','success');}else{console.error('Error al crear el producto:',data);swal('Error','Error al crear el producto. Por favor, intenta de nuevo.','error');}}).catch(error=>{console.error('Error de red:',error);swal('Error','Error de red. Por favor, verifica tu conexión a internet e intenta de nuevo.','error');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"product-page__header\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"product-page__logo\"}),/*#__PURE__*/_jsx(Navbar,{menuItems:menuItems})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"product-page__banner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"product-page__title\",children:\"Registrar Producto\"}),/*#__PURE__*/_jsx(InputField,{type:\"text\",placeholder:\"Nombre\",value:nombre,onChange:e=>setNombre(e.target.value)}),/*#__PURE__*/_jsx(InputField,{type:\"text\",placeholder:\"Fabricante\",value:fabricante,onChange:e=>setFabricante(e.target.value)}),/*#__PURE__*/_jsx(InputField,{type:\"text\",placeholder:\"Descripci\\xF3n\",value:descripcion,onChange:e=>setDescripcion(e.target.value)}),/*#__PURE__*/_jsx(InputField,{type:\"number\",placeholder:\"Precio\",value:precio,onChange:e=>setPrecio(e.target.value)}),/*#__PURE__*/_jsx(\"select\",{value:categoria_id,onChange:e=>setCategoriaId(e.target.value),children:categorias.map(categoria=>/*#__PURE__*/_jsx(\"option\",{value:categoria.id,children:categoria.nombre},categoria.id))}),/*#__PURE__*/_jsx(Button,{onClick:handleRegister,children:\"Registrar\"})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"product-page__footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"footer__brand\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Tecno Store\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer__social-media\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nuestras Redes\"}),/*#__PURE__*/_jsx(\"img\",{src:twitterIcon,alt:\"Twitter\",className:\"social-icon\"}),/*#__PURE__*/_jsx(\"img\",{src:facebookIcon,alt:\"Facebook\",className:\"social-icon\"}),/*#__PURE__*/_jsx(\"img\",{src:youtubeIcon,alt:\"YouTube\",className:\"social-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer__contact\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cont\\xE1ctanos\"}),/*#__PURE__*/_jsx(\"p\",{children:\"info@tecnostore.com\"}),/*#__PURE__*/_jsx(\"p\",{children:\"+52 6743243651\"})]})]})]});};export default RegisterProductPage;","map":{"version":3,"names":["React","useState","useEffect","Navbar","Button","InputField","logo","twitterIcon","facebookIcon","youtubeIcon","swal","jsx","_jsx","jsxs","_jsxs","RegisterProductPage","nombre","setNombre","fabricante","setFabricante","descripcion","setDescripcion","precio","setPrecio","categoria_id","setCategoriaId","categorias","setCategorias","rol","localStorage","getItem","menuItems","label","path","splice","fetch","then","response","json","data","catch","error","console","handleRegister","isNaN","Number","producto","method","headers","body","JSON","stringify","id","log","className","children","src","alt","type","placeholder","value","onChange","e","target","map","categoria","onClick"],"sources":["C:/React/tecno-store/src/RegisterProductPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Navbar from './Navbar';\r\nimport Button from './Button';\r\nimport InputField from './InputField';\r\nimport './ProductPage.css';\r\nimport logo from './tecnov.png';\r\nimport twitterIcon from './twitter.png';\r\nimport facebookIcon from './facebook.png';\r\nimport youtubeIcon from './youtube.png';\r\nimport swal from 'sweetalert';\r\n\r\nconst RegisterProductPage = () => {\r\n  const [nombre, setNombre] = useState('');\r\n  const [fabricante, setFabricante] = useState('');\r\n  const [descripcion, setDescripcion] = useState('');\r\n  const [precio, setPrecio] = useState('');\r\n  const [categoria_id, setCategoriaId] = useState(null);\r\n  const [categorias, setCategorias] = useState([]);\r\n\r\n  const rol = localStorage.getItem('rol'); \r\n\r\n  let menuItems = [\r\n    { label: 'Inicio', path: '/' },\r\n    { label: 'Cuenta', path: '/cuenta' },\r\n    { label: 'Acerca de', path: '/acerca-de' },\r\n  ];\r\n\r\n  if (rol === 'admin') {\r\n    menuItems.splice(1, 0, { label: 'Productos', path: '/productos' });\r\n  }   \r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/api/categorias')\r\n      .then(response => response.json())\r\n      .then(data => setCategorias(data))\r\n      .catch(error => console.error('Error:', error));\r\n  }, []);\r\n\r\n  const handleRegister = () => {\r\n    if (!nombre || !fabricante || !descripcion || !precio || !categoria_id) {\r\n      swal('Error', 'Por favor, rellena todos los campos y selecciona una categoría.', 'error');\r\n      return;\r\n    }\r\n  \r\n    if (isNaN(precio) || !Number(precio)) {\r\n      swal('Error', 'Por favor, introduce un número válido para el precio.', 'error');\r\n      return;\r\n    }\r\n  \r\n    const producto = { nombre, fabricante, descripcion, precio, categoria_id };\r\n  \r\n    fetch('http://localhost:5000/api/productos', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(producto)\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.id) {\r\n          console.log('Producto creado con éxito:', data);\r\n          swal('Éxito', 'Producto creado con éxito.', 'success');\r\n        } else {\r\n          console.error('Error al crear el producto:', data);\r\n          swal('Error', 'Error al crear el producto. Por favor, intenta de nuevo.', 'error');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error de red:', error);\r\n        swal('Error', 'Error de red. Por favor, verifica tu conexión a internet e intenta de nuevo.', 'error');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-page\">\r\n      <header className=\"product-page__header\">\r\n        <img src={logo} alt=\"Logo\" className=\"product-page__logo\" />\r\n        <Navbar menuItems={menuItems} />\r\n      </header>\r\n      <section className=\"product-page__banner\">\r\n        <h2 className=\"product-page__title\">Registrar Producto</h2>\r\n        <InputField\r\n          type=\"text\"\r\n          placeholder=\"Nombre\"\r\n          value={nombre}\r\n          onChange={(e) => setNombre(e.target.value)}\r\n        />\r\n        <InputField\r\n          type=\"text\"\r\n          placeholder=\"Fabricante\"\r\n          value={fabricante}\r\n          onChange={(e) => setFabricante(e.target.value)}\r\n        />\r\n        <InputField\r\n          type=\"text\"\r\n          placeholder=\"Descripción\"\r\n          value={descripcion}\r\n          onChange={(e) => setDescripcion(e.target.value)}\r\n        />\r\n        <InputField\r\n          type=\"number\"\r\n          placeholder=\"Precio\"\r\n          value={precio}\r\n          onChange={(e) => setPrecio(e.target.value)}\r\n        />\r\n        <select value={categoria_id} onChange={(e) => setCategoriaId(e.target.value)}>\r\n          {categorias.map((categoria) => (\r\n            <option key={categoria.id} value={categoria.id}>\r\n              {categoria.nombre}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <Button onClick={handleRegister}>Registrar</Button>\r\n      </section>\r\n      <footer className=\"product-page__footer\">\r\n        <div className=\"footer__brand\">\r\n          <h1>Tecno Store</h1>\r\n        </div>\r\n        <div className=\"footer__social-media\">\r\n          <h3>Nuestras Redes</h3>\r\n          <img src={twitterIcon} alt=\"Twitter\" className=\"social-icon\" />\r\n          <img src={facebookIcon} alt=\"Facebook\" className=\"social-icon\" />\r\n          <img src={youtubeIcon} alt=\"YouTube\" className=\"social-icon\" />\r\n        </div>\r\n        <div className=\"footer__contact\">\r\n          <h3>Contáctanos</h3>\r\n          <p>info@tecnostore.com</p>\r\n          <p>+52 6743243651</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}