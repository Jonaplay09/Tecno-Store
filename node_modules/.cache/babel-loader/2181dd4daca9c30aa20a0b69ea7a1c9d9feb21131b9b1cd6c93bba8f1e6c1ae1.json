{"ast":null,"code":"import React,{useState,useEffect}from'react';import Navbar from'./Navbar';import Button from'./Button';import InputField from'./InputField';import'./ProductPage.css';import logo from'./tecnov.png';import twitterIcon from'./twitter.png';import facebookIcon from'./facebook.png';import youtubeIcon from'./youtube.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterProductPage=()=>{const[nombre,setNombre]=useState('');const[fabricante,setFabricante]=useState('');const[descripcion,setDescripcion]=useState('');const[precio,setPrecio]=useState('');const[categoria_id,setCategoriaId]=useState('');const[categorias,setCategorias]=useState([]);const rol=localStorage.getItem('rol');let menuItems=[{label:'Inicio',path:'/'},{label:'Cuenta',path:'/cuenta'},{label:'Acerca de',path:'/acerca-de'}];if(rol==='admin'){menuItems.splice(1,0,{label:'Productos',path:'/productos'});}useEffect(()=>{fetch('http://localhost:5000/api/categorias').then(response=>response.json()).then(data=>setCategorias(data)).catch(error=>console.error('Error:',error));},[]);const handleRegister=()=>{// Crea un objeto con los datos del formulario\nconst producto={nombre,fabricante,descripcion,precio,categoria_id};// Haz una solicitud POST a tu API\nfetch('http://localhost:5000/api/productos',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(producto)// Envía los datos del formulario como un objeto JSON\n}).then(response=>response.json()).then(data=>{// Maneja la respuesta de la API\nif(data.id){// Si la API devuelve un ID, el producto se creó con éxito\nconsole.log('Producto creado con éxito:',data);}else{// Si la API no devuelve un ID, hubo un error\nconsole.error('Error al crear el producto:',data);}}).catch(error=>{// Maneja cualquier error de red\nconsole.error('Error de red:',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"product-page__header\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"product-page__logo\"}),/*#__PURE__*/_jsx(Navbar,{menuItems:menuItems})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"product-page__banner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"product-page__title\",children:\"Registrar Producto\"}),/*#__PURE__*/_jsx(InputField,{type:\"text\",placeholder:\"Nombre\",value:nombre,onChange:e=>setNombre(e.target.value)}),/*#__PURE__*/_jsx(InputField,{type:\"text\",placeholder:\"Fabricante\",value:fabricante,onChange:e=>setFabricante(e.target.value)}),/*#__PURE__*/_jsx(InputField,{type:\"text\",placeholder:\"Descripci\\xF3n\",value:descripcion,onChange:e=>setDescripcion(e.target.value)}),/*#__PURE__*/_jsx(InputField,{type:\"number\",placeholder:\"Precio\",value:precio,onChange:e=>setPrecio(e.target.value)}),/*#__PURE__*/_jsx(\"select\",{value:categoria_id,onChange:e=>setCategoriaId(e.target.value),children:categorias.map(categoria=>/*#__PURE__*/_jsx(\"option\",{value:categoria.id,children:categoria.nombre},categoria.id))}),/*#__PURE__*/_jsx(Button,{onClick:handleRegister,children:\"Registrar\"})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"product-page__footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"footer__brand\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Tecno Store\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer__social-media\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nuestras Redes\"}),/*#__PURE__*/_jsx(\"img\",{src:twitterIcon,alt:\"Twitter\",className:\"social-icon\"}),/*#__PURE__*/_jsx(\"img\",{src:facebookIcon,alt:\"Facebook\",className:\"social-icon\"}),/*#__PURE__*/_jsx(\"img\",{src:youtubeIcon,alt:\"YouTube\",className:\"social-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer__contact\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cont\\xE1ctanos\"}),/*#__PURE__*/_jsx(\"p\",{children:\"info@tecnostore.com\"}),/*#__PURE__*/_jsx(\"p\",{children:\"+52 6743243651\"})]})]})]});};export default RegisterProductPage;","map":{"version":3,"names":["React","useState","useEffect","Navbar","Button","InputField","logo","twitterIcon","facebookIcon","youtubeIcon","jsx","_jsx","jsxs","_jsxs","RegisterProductPage","nombre","setNombre","fabricante","setFabricante","descripcion","setDescripcion","precio","setPrecio","categoria_id","setCategoriaId","categorias","setCategorias","rol","localStorage","getItem","menuItems","label","path","splice","fetch","then","response","json","data","catch","error","console","handleRegister","producto","method","headers","body","JSON","stringify","id","log","className","children","src","alt","type","placeholder","value","onChange","e","target","map","categoria","onClick"],"sources":["C:/React/tecno-store/src/RegisterProductPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Navbar from './Navbar';\r\nimport Button from './Button';\r\nimport InputField from './InputField';\r\nimport './ProductPage.css';\r\nimport logo from './tecnov.png';\r\nimport twitterIcon from './twitter.png';\r\nimport facebookIcon from './facebook.png';\r\nimport youtubeIcon from './youtube.png';\r\n\r\n\r\nconst RegisterProductPage = () => {\r\n    const [nombre, setNombre] = useState('');\r\n    const [fabricante, setFabricante] = useState('');\r\n    const [descripcion, setDescripcion] = useState('');\r\n    const [precio, setPrecio] = useState('');\r\n    const [categoria_id, setCategoriaId] = useState('');\r\n    const [categorias, setCategorias] = useState([]);\r\n\r\n    const rol = localStorage.getItem('rol'); \r\n\r\n    let menuItems = [\r\n      { label: 'Inicio', path: '/' },\r\n      { label: 'Cuenta', path: '/cuenta' },\r\n      { label: 'Acerca de', path: '/acerca-de' },\r\n    ];\r\n  \r\n    if (rol === 'admin') {\r\n      menuItems.splice(1, 0, { label: 'Productos', path: '/productos' });\r\n    }   \r\n    useEffect(() => {\r\n        fetch('http://localhost:5000/api/categorias')\r\n            .then(response => response.json())\r\n            .then(data => setCategorias(data))\r\n            .catch(error => console.error('Error:', error));\r\n    }, []);\r\n\r\n    const handleRegister = () => {\r\n        // Crea un objeto con los datos del formulario\r\n        const producto = { nombre, fabricante, descripcion, precio, categoria_id };\r\n\r\n        // Haz una solicitud POST a tu API\r\n        fetch('http://localhost:5000/api/productos', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(producto) // Envía los datos del formulario como un objeto JSON\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                // Maneja la respuesta de la API\r\n                if (data.id) {\r\n                    // Si la API devuelve un ID, el producto se creó con éxito\r\n                    console.log('Producto creado con éxito:', data);\r\n                } else {\r\n                    // Si la API no devuelve un ID, hubo un error\r\n                    console.error('Error al crear el producto:', data);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                // Maneja cualquier error de red\r\n                console.error('Error de red:', error);\r\n            });\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"product-page\">\r\n            <header className=\"product-page__header\">\r\n                <img src={logo} alt=\"Logo\" className=\"product-page__logo\" />\r\n                <Navbar menuItems={menuItems} />\r\n            </header>\r\n            <section className=\"product-page__banner\">\r\n                <h2 className=\"product-page__title\">Registrar Producto</h2>\r\n                <InputField\r\n                    type=\"text\"\r\n                    placeholder=\"Nombre\"\r\n                    value={nombre}\r\n                    onChange={(e) => setNombre(e.target.value)}\r\n                />\r\n                <InputField\r\n                    type=\"text\"\r\n                    placeholder=\"Fabricante\"\r\n                    value={fabricante}\r\n                    onChange={(e) => setFabricante(e.target.value)}\r\n                />\r\n                <InputField\r\n                    type=\"text\"\r\n                    placeholder=\"Descripción\"\r\n                    value={descripcion}\r\n                    onChange={(e) => setDescripcion(e.target.value)}\r\n                />\r\n                <InputField\r\n                    type=\"number\"\r\n                    placeholder=\"Precio\"\r\n                    value={precio}\r\n                    onChange={(e) => setPrecio(e.target.value)}\r\n                />\r\n                <select value={categoria_id} onChange={(e) => setCategoriaId(e.target.value)}>\r\n                    {categorias.map((categoria) => (\r\n                        <option key={categoria.id} value={categoria.id}>\r\n                            {categoria.nombre}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                <Button onClick={handleRegister}>Registrar</Button>\r\n            </section>\r\n            <footer className=\"product-page__footer\">\r\n                <div className=\"footer__brand\">\r\n                    <h1>Tecno Store</h1>\r\n                </div>\r\n                <div className=\"footer__social-media\">\r\n                    <h3>Nuestras Redes</h3>\r\n                    <img src={twitterIcon} alt=\"Twitter\" className=\"social-icon\" />\r\n                    <img src={facebookIcon} alt=\"Facebook\" className=\"social-icon\" />\r\n                    <img src={youtubeIcon} alt=\"YouTube\" className=\"social-icon\" />\r\n                </div>\r\n                <div className=\"footer__contact\">\r\n                    <h3>Contáctanos</h3>\r\n                    <p>info@tecnostore.com</p>\r\n                    <p>+52 6743243651</p>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}